/* TYPE SCALE & MD3 MAPPINGS */
/* Font Family Defaults */
:root {
  --font-headline: 'Noto Serif', serif;
  --font-body: 'Noto Sans', sans-serif;
}

/* Base Color & Margins */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-headline);
  color: var(--md-sys-color-on-surface);
  margin-top: 2rem;
  margin-bottom: 1rem;
}

/* MD3 Display & Headline Styles */
/* Large text needs TIGHTER spacing (-tracking) and leading to hold together */

h1 { 
  font-size: 2.5rem; 
  font-weight: 700; 
  line-height: 1.12; /* Tighter leading for large text */
  letter-spacing: -0.02em; /* Negative tracking */
  margin-top: 0; 
}

h2 { 
  font-size: 2rem; 
  font-weight: 600; 
  line-height: 1.2; 
  letter-spacing: -0.01em; 
}

h3 { 
  font-size: 1.75rem; 
  font-weight: 600; 
  line-height: 1.25; 
  letter-spacing: 0; /* Neutral tracking */
}

/* MD3 Title Styles */
/* Medium text needs standard spacing */

h4 { 
  font-size: 1.5rem; 
  font-weight: 600; 
  line-height: 1.3; 
  letter-spacing: 0.01em; 
}

h5 { 
  font-size: 1.25rem; 
  font-weight: 600; 
  line-height: 1.3; 
  letter-spacing: 0.01em; 
}

/* MD3 Label/Overline */
/* Small caps need VERY LOOSE spacing to be readable */
h6 { 
  font-size: 1rem; 
  font-weight: 600; 
  text-transform: uppercase; 
  letter-spacing: 0.06em; /* Wide tracking */
  line-height: 1.4;
}

/* MD3 Body Styles */
/* Body text needs positive tracking for accessibility */

p {
  font-family: var(--font-body);
  font-size: 1.125rem; /* 18px Body Large */
  line-height: 1.6; /* Relaxed reading height */
  letter-spacing: 0.01em; /* Breathing room */
  margin-bottom: 1rem;
  color: var(--md-sys-color-on-surface);
  max-width: 70ch; /* Optimal reading line length */
}

/* Links */
a {
  color: var(--md-sys-color-primary);
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 2px;
  transition: background-color 0.2s;
}

a:hover {
  text-decoration-thickness: 2px;
  background-color: rgba(var(--md-sys-color-primary), 0.05);
}

/* Utilities */
hr {
  border: 0;
  height: 1px;
  background-color: var(--md-sys-color-outline-variant);
  margin: 2rem 0;
  width: 100%;
}

blockquote {
  margin: 1.5rem 0;
  padding: 1rem 1.5rem;
  border-left: 4px solid var(--md-sys-color-primary);
  background-color: rgba(var(--md-sys-color-primary), 0.05);
  font-style: italic;
  border-radius: 0 var(--md-sys-shape-corner-medium) var(--md-sys-shape-corner-medium) 0;
}
blockquote p:last-child { margin-bottom: 0; }

ul, ol { margin-bottom: 1rem; padding-left: 2rem; }
li { margin-bottom: 0.5rem; line-height: 1.6; letter-spacing: 0.01em; }
li::marker { color: var(--md-sys-color-secondary); }

/* Code */
code {
  font-family: monospace;
  background-color: var(--md-sys-color-outline-variant);
  color: var(--md-sys-color-on-surface);
  padding: 0.2em 0.4em;
  border-radius: 4px;
  font-size: 0.9em;
}

pre {
  background-color: #272822;
  color: #f8f8f2;
  padding: 1rem;
  border-radius: var(--md-sys-shape-corner-medium);
  overflow-x: auto;
  margin-bottom: 1.5rem;
  border: 1px solid var(--md-sys-color-outline-variant);
}
pre code { background-color: transparent; padding: 0; }

/* Tables */
table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; font-size: 0.95rem; }
th, td { padding: 12px; border: 1px solid var(--md-sys-color-outline-variant); text-align: left; }
th { background-color: rgba(var(--md-sys-color-primary), 0.05); font-weight: 700; }

/* Helper Wrapper for Code Copy Button */
.code-block-wrapper { position: relative; margin-bottom: 1.5rem; }
.code-block-wrapper pre { margin-bottom: 0; }

.copy-code-btn {
  position: absolute; top: 8px; right: 8px;
  background-color: var(--md-sys-color-surface);
  border: 1px solid var(--md-sys-color-outline);
  color: var(--md-sys-color-primary);
  border-radius: 50%; width: 32px; height: 32px;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; opacity: 0.5; z-index: 2;
  transition: opacity 0.2s, background-color 0.2s;
}
.copy-code-btn:hover { opacity: 1; background-color: var(--md-sys-color-outline-variant); }
.copy-code-btn svg { width: 18px; height: 18px; fill: currentColor; }

/* Table Wrapper */
.table-wrapper {
  overflow-x: auto; margin-bottom: 1.5rem;
  border: 1px solid var(--md-sys-color-outline-variant);
  border-radius: var(--md-sys-shape-corner-medium);
}
.md-table { width: 100%; border-collapse: collapse; font-size: 0.95rem; border: none; }
.md-table caption {
  caption-side: top; text-align: left; padding: 12px 16px;
  font-family: var(--font-headline); font-weight: 700;
  color: var(--md-sys-color-primary);
  background-color: rgba(var(--md-sys-color-primary), 0.05);
  border-bottom: 1px solid var(--md-sys-color-outline-variant);
}
.md-table th, .md-table td { padding: 12px 16px; border-bottom: 1px solid var(--md-sys-color-outline-variant); white-space: nowrap; }
.md-table th { background-color: var(--md-sys-color-surface); font-weight: 600; color: var(--md-sys-color-on-surface); }
.md-table tr:last-child td { border-bottom: none; }
.md-table tbody tr:nth-child(even) { background-color: rgba(var(--md-sys-color-primary), 0.02); }

/* [Patch] MD3 Body Element Polish */

/* 1. Blockquotes: "Container" Style */
blockquote {
  margin: 2rem 0;
  padding: 1.5rem 2rem;
  /* Surface Variant background (tinted) */
  background-color: rgba(var(--md-sys-color-primary), 0.08);
  /* Thick accent on the left */
  border-left: 4px solid var(--md-sys-color-primary);
  /* Rounded corners (Top-Right, Bottom-Right) */
  border-radius: 0 16px 16px 0;
  position: relative;
}

/* Optional: Add a subtle Quote Icon watermark */
blockquote::before {
  content: "â€œ";
  position: absolute;
  top: -10px;
  right: 10px;
  font-family: serif;
  font-size: 4rem;
  color: var(--md-sys-color-primary);
  opacity: 0.1;
  pointer-events: none;
}

/* 2. Horizontal Rules: "Divider" Token */
hr {
  border: 0;
  height: 1px;
  /* Use Outline Variant for subtle separation */
  background-color: var(--md-sys-color-outline-variant);
  margin: 3rem auto; /* More breathing room */
  width: 100%;
  max-width: 200px; /* Center it nicely */
}

/* 3. Tables: "Data Grid" Style */
.table-wrapper {
  border: 1px solid var(--md-sys-color-outline-variant);
  border-radius: 12px; /* Matches Card Radius */
  overflow: hidden; /* Clips the inner table corners */
  margin-bottom: 2rem;
}

.md-table th {
  /* Header Row: Distinct Tint */
  background-color: rgba(var(--md-sys-color-primary), 0.12);
  color: var(--md-sys-color-on-surface);
  font-weight: 700;
  text-transform: uppercase;
  font-size: 0.85rem;
  letter-spacing: 0.05em;
  border-bottom: 1px solid var(--md-sys-color-outline-variant);
}

.md-table td {
  border-bottom: 1px solid var(--md-sys-color-outline-variant);
}

/* Zebra Striping */
.md-table tbody tr:nth-child(even) {
  background-color: rgba(var(--md-sys-color-on-surface), 0.03);
}
