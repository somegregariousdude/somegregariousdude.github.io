/* MD3 State Layer Mixin */
/* Usage: @include state-layer; */

@mixin state-layer($color: currentColor) {
  position: relative;
  overflow: hidden; /* Clips the layer to the element's border-radius */
  
  &::before {
    content: "";
    position: absolute;
    inset: 0;
    background-color: $color;
    opacity: 0; /* Invisible by default */
    z-index: 1; /* Sits on top of content */
    pointer-events: none; /* CRITICAL: Let clicks pass through to the link/button */
    
    /* MD3 Motion for the fade effect */
    transition: opacity 0.2s var(--md-sys-motion-easing-standard, ease);
  }

  /* MD3 Interaction Specs */
  &:hover::before {
    opacity: 0.08; /* Hover State */
  }

  &:focus-visible::before {
    opacity: 0.12; /* Focus State */
  }

  &:active::before {
    opacity: 0.12; /* Press State */
  }
}
